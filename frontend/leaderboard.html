<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>排行榜 - 快问快答</title>
    <link rel="stylesheet" href="static/css/main.css">
    <link rel="stylesheet" href="static/css/animations.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body class="fade-in">
    <!-- 背景动画 -->
    <div class="bg-animation">
        <div class="floating-particles"></div>
    </div>

    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>快问快答</h2>
                <span class="logo-subtitle">排行榜</span>
            </div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link">首页</a>
                <a href="#" class="nav-link active">排行榜</a>
                <div class="nav-user" id="nav-user">
                    <span class="username" id="username-display"></span>
                    <button class="btn btn-warning btn-small" onclick="logout()">
                        <i class="icon-logout"></i>
                        登出
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主要内容 -->
    <main class="leaderboard-main">
        <div class="container">
            <!-- 页面标题 -->
            <section class="page-header">
                <h1>
                    <i class="icon-trophy"></i>
                    排行榜
                </h1>
                <p>与全国古诗词爱好者一较高下</p>
            </section>

            <!-- 个人成绩概览 -->
            <section class="personal-overview" id="personal-overview">
                <h2>我的成绩</h2>
                <div class="overview-cards">
                    <div class="overview-card speed-card">
                        <div class="card-header">
                            <i class="icon-timer"></i>
                            <h3>速答模式最佳</h3>
                        </div>
                        <div class="card-content" id="speed-best">
                            <!-- 速答最佳成绩 -->
                        </div>
                    </div>
                    
                    <div class="overview-card study-card">
                        <div class="card-header">
                            <i class="icon-book"></i>
                            <h3>学习模式最佳</h3>
                        </div>
                        <div class="card-content" id="study-best">
                            <!-- 学习最佳成绩 -->
                        </div>
                    </div>
                    
                    <div class="overview-card stats-card">
                        <div class="card-header">
                            <i class="icon-chart"></i>
                            <h3>总体统计</h3>
                        </div>
                        <div class="card-content" id="overall-stats">
                            <!-- 总体统计 -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- 排行榜切换 -->
            <section class="leaderboard-section">
                <div class="leaderboard-tabs">
                    <button class="tab-btn active" data-mode="speed" onclick="switchLeaderboard('speed')">
                        <i class="icon-timer"></i>
                        速答排行榜
                    </button>
                    <button class="tab-btn" data-mode="study" onclick="switchLeaderboard('study')">
                        <i class="icon-book"></i>
                        学习排行榜
                    </button>
                </div>

                <!-- 排行榜统计 -->
                <div class="leaderboard-stats" id="leaderboard-stats">
                    <!-- 统计信息 -->
                </div>

                <!-- 排行榜内容 -->
                <div class="leaderboard-content">
                    <!-- 速答排行榜 -->
                    <div class="leaderboard-table active" id="speed-leaderboard">
                        <div class="table-header">
                            <div class="table-title">
                                <h3>速答模式排行榜</h3>
                                <span class="subtitle">按答对题目数和用时排序</span>
                            </div>
                            <button class="btn btn-success btn-small" onclick="refreshLeaderboard()">
                                <i class="icon-refresh"></i>
                                刷新
                            </button>
                        </div>
                        <div class="table-container">
                            <table class="leaderboard-table">
                                <thead>
                                    <tr>
                                        <th>排名</th>
                                        <th>用户名</th>
                                        <th>答对题目</th>
                                        <th>总题目</th>
                                        <th>正确率</th>
                                        <th>用时</th>
                                        <th>日期</th>
                                    </tr>
                                </thead>
                                <tbody id="speed-table-body">
                                    <!-- 速答排行榜数据 -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- 学习排行榜 -->
                    <div class="leaderboard-table" id="study-leaderboard">
                        <div class="table-header">
                            <div class="table-title">
                                <h3>学习模式排行榜</h3>
                                <span class="subtitle">按学习题目数排序</span>
                            </div>
                            <button class="btn btn-success btn-small" onclick="refreshLeaderboard()">
                                <i class="icon-refresh"></i>
                                刷新
                            </button>
                        </div>
                        <div class="table-container">
                            <table class="leaderboard-table">
                                <thead>
                                    <tr>
                                        <th>排名</th>
                                        <th>用户名</th>
                                        <th>学习题目</th>
                                        <th>学习时长</th>
                                        <th>日期</th>
                                    </tr>
                                </thead>
                                <tbody id="study-table-body">
                                    <!-- 学习排行榜数据 -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- 加载更多 -->
                <div class="load-more-container">
                    <button class="btn btn-primary" id="load-more-btn" onclick="loadMoreLeaderboard()">
                        <i class="icon-arrow-down"></i>
                        加载更多
                    </button>
                </div>
            </section>

            <!-- 全站统计 -->
            <section class="global-stats">
                <h2>全站统计</h2>
                <div class="stats-grid" id="global-stats-grid">
                    <!-- 全站统计数据 -->
                </div>
            </section>
        </div>
    </main>

    <!-- 用户详情模态框 -->
    <div class="modal" id="user-modal">
        <div class="modal-overlay" onclick="closeModal('user-modal')"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="user-modal-title">用户详情</h3>
                <button class="modal-close" onclick="closeModal('user-modal')">&times;</button>
            </div>
            <div class="user-details" id="user-details">
                <!-- 用户详情内容 -->
            </div>
        </div>
    </div>

    <!-- 通知提示 -->
    <div class="notification" id="notification">
        <div class="notification-content">
            <span class="notification-message" id="notification-message"></span>
            <button class="notification-close" onclick="closeNotification()">&times;</button>
        </div>
    </div>

    <!-- 脚本文件 -->
    <script src="static/js/main.js"></script>
    <script src="static/js/auth.js"></script>
    <script src="static/js/leaderboard.js"></script>
</body>
</html>