# é¢˜ç›®æ•°æ®åº“ç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªå…·æœ‰æ‹“å±•æ€§çš„é¢˜ç›®æ•°æ®åº“ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§é¢˜å‹å’Œç§‘ç›®ã€‚ç›®å‰å·²ç»å¯¼å…¥äº†å°å­¦å¤è¯—è¯ä¸“é¡¹ç»ƒä¹ çš„80é“é¢˜ç›®ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **å¤šç§‘ç›®æ”¯æŒ**: è¯­æ–‡ã€æ•°å­¦ã€è‹±è¯­ç­‰
- **å¤šé¢˜å‹æ”¯æŒ**: é€‰æ‹©é¢˜ã€å¡«ç©ºé¢˜ã€åˆ¤æ–­é¢˜ã€å¤šé€‰é¢˜
- **éšæœºé€‰é¡¹**: æ”¯æŒé€‰é¡¹éšæœºæ’åˆ—ï¼Œä¸æ‹˜æ³¥äºABCDå›ºå®šé¡ºåº
- **æ ‡ç­¾ç³»ç»Ÿ**: æ”¯æŒæŒ‰æœä»£ã€ä½œè€…ã€ä¸»é¢˜ç­‰æ ‡ç­¾åˆ†ç±»
- **éš¾åº¦åˆ†çº§**: 1-5çº§éš¾åº¦ç­‰çº§
- **æœç´¢åŠŸèƒ½**: æ”¯æŒå…³é”®è¯æœç´¢é¢˜ç›®

### ğŸ”§ æŠ€æœ¯ç‰¹ç‚¹
- **SQLiteæ•°æ®åº“**: è½»é‡çº§ã€æ— éœ€æœåŠ¡å™¨
- **æ¨¡å—åŒ–è®¾è®¡**: æ˜“äºæ‰©å±•æ–°é¢˜å‹å’Œç§‘ç›®
- **JSONæ ‡ç­¾**: çµæ´»çš„æ ‡ç­¾ç³»ç»Ÿ
- **å¤–é”®çº¦æŸ**: ä¿è¯æ•°æ®å®Œæ•´æ€§

## æ–‡ä»¶ç»“æ„

```
â”œâ”€â”€ database_schema.sql      # æ•°æ®åº“æ¶æ„å®šä¹‰
â”œâ”€â”€ import_questions.py      # é¢˜ç›®å¯¼å…¥è„šæœ¬
â”œâ”€â”€ query_database.py        # æ•°æ®åº“æŸ¥è¯¢å·¥å…·
â”œâ”€â”€ questions.db            # SQLiteæ•°æ®åº“æ–‡ä»¶ï¼ˆè¿è¡Œåç”Ÿæˆï¼‰
â”œâ”€â”€ å°å­¦å¤è¯—è¯ä¸“é¡¹ç»ƒä¹ .txt    # åŸå§‹é¢˜ç›®æ–‡ä»¶
â””â”€â”€ README.md              # è¯´æ˜æ–‡æ¡£
```

## æ•°æ®åº“æ¶æ„

### æ ¸å¿ƒè¡¨ç»“æ„

#### subjects (ç§‘ç›®è¡¨)
- `id`: ä¸»é”®
- `name`: ç§‘ç›®åç§°ï¼ˆè¯­æ–‡ã€æ•°å­¦ã€è‹±è¯­ç­‰ï¼‰
- `description`: ç§‘ç›®æè¿°

#### question_types (é¢˜å‹è¡¨)
- `id`: ä¸»é”®
- `name`: é¢˜å‹åç§°ï¼ˆé€‰æ‹©é¢˜ã€å¡«ç©ºé¢˜ç­‰ï¼‰
- `description`: é¢˜å‹æè¿°

#### questions (é¢˜ç›®è¡¨)
- `id`: ä¸»é”®
- `subject_id`: å…³è”ç§‘ç›®ID
- `question_type_id`: å…³è”é¢˜å‹ID
- `title`: é¢˜ç›®æ ‡é¢˜ï¼ˆå¦‚ï¼šã€Šæ±Ÿå—ã€‹ æ±‰ä¹åºœï¼‰
- `content`: é¢˜ç›®å†…å®¹ï¼ˆé¢˜å¹²ï¼‰
- `correct_answer`: æ­£ç¡®ç­”æ¡ˆ
- `explanation`: è¯¦è§£
- `difficulty_level`: éš¾åº¦ç­‰çº§ï¼ˆ1-5ï¼‰
- `tags`: æ ‡ç­¾ï¼ˆJSONæ ¼å¼ï¼‰
- `source`: é¢˜ç›®æ¥æº

#### options (é€‰é¡¹è¡¨)
- `id`: ä¸»é”®
- `question_id`: å…³è”é¢˜ç›®ID
- `option_text`: é€‰é¡¹å†…å®¹
- `is_correct`: æ˜¯å¦ä¸ºæ­£ç¡®ç­”æ¡ˆ
- `option_order`: é€‰é¡¹é¡ºåº

## ä½¿ç”¨æ–¹æ³•

### 1. åˆå§‹åŒ–æ•°æ®åº“

```bash
python import_questions.py
```

è¿™å°†ï¼š
- åˆ›å»ºæ•°æ®åº“æ¶æ„
- å¯¼å…¥å¤è¯—è¯é¢˜ç›®
- æ˜¾ç¤ºå¯¼å…¥è¿›åº¦

### 2. æŸ¥è¯¢æ•°æ®åº“

```bash
python query_database.py
```

è¿™å°†æ˜¾ç¤ºï¼š
- æ•°æ®åº“ç»Ÿè®¡ä¿¡æ¯
- éšæœºé¢˜ç›®ç¤ºä¾‹
- æœç´¢åŠŸèƒ½æ¼”ç¤º

### 3. åœ¨ä»£ç ä¸­ä½¿ç”¨

```python
from query_database import QuestionDatabase

# åˆ›å»ºæ•°æ®åº“è¿æ¥
db = QuestionDatabase()

# éšæœºè·å–ä¸€ä¸ªè¯­æ–‡é¢˜ç›®
questions = db.get_random_question(subject_name='è¯­æ–‡', limit=1)
if questions:
    question = questions[0]
    print(f"é¢˜ç›®: {question['content']}")
    
    # è·å–éšæœºæ’åˆ—çš„é€‰é¡¹
    random_options = db.get_random_options(question['id'])
    for i, option in enumerate(random_options, 1):
        print(f"{i}. {option['text']}")

# æœç´¢åŒ…å«ç‰¹å®šå…³é”®è¯çš„é¢˜ç›®
results = db.search_questions('æç™½', subject_name='è¯­æ–‡')
```

## API å‚è€ƒ

### QuestionDatabase ç±»

#### ä¸»è¦æ–¹æ³•

**get_random_question(subject_name=None, question_type=None, difficulty_level=None, limit=1)**
- éšæœºè·å–é¢˜ç›®
- æ”¯æŒæŒ‰ç§‘ç›®ã€é¢˜å‹ã€éš¾åº¦ç­›é€‰
- è¿”å›é¢˜ç›®åˆ—è¡¨

**get_random_options(question_id)**
- è·å–éšæœºæ’åˆ—çš„é€‰é¡¹
- è¿”å›é€‰é¡¹åˆ—è¡¨

**get_question_by_id(question_id)**
- æ ¹æ®IDè·å–ç‰¹å®šé¢˜ç›®
- è¿”å›é¢˜ç›®å­—å…¸æˆ–None

**search_questions(keyword, subject_name=None)**
- æœç´¢é¢˜ç›®
- æ”¯æŒå…³é”®è¯æœç´¢
- è¿”å›åŒ¹é…çš„é¢˜ç›®åˆ—è¡¨

**get_statistics()**
- è·å–æ•°æ®åº“ç»Ÿè®¡ä¿¡æ¯
- è¿”å›ç»Ÿè®¡å­—å…¸

## æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°ç§‘ç›®

```sql
INSERT INTO subjects (name, description) VALUES ('ç‰©ç†', 'ç‰©ç†å­¦ç§‘ï¼ŒåŒ…æ‹¬åŠ›å­¦ã€ç”µå­¦ç­‰');
```

### æ·»åŠ æ–°é¢˜å‹

```sql
INSERT INTO question_types (name, description) VALUES ('è¿çº¿é¢˜', 'å°†ç›¸å…³é¡¹ç›®è¿çº¿');
```

### æ·»åŠ æ–°é¢˜ç›®

```python
# è·å–ç§‘ç›®å’Œé¢˜å‹ID
subject_id = db.get_subject_id('è¯­æ–‡')
question_type_id = db.get_question_type_id('é€‰æ‹©é¢˜')

# æ’å…¥é¢˜ç›®
question_id = db.insert_question({
    'subject_id': subject_id,
    'question_type_id': question_type_id,
    'title': 'ã€Šæ–°é¢˜ç›®ã€‹ ä½œè€…',
    'content': 'é¢˜ç›®å†…å®¹',
    'correct_answer': 'æ­£ç¡®ç­”æ¡ˆ',
    'explanation': 'è¯¦è§£',
    'tags': ['æ ‡ç­¾1', 'æ ‡ç­¾2'],
    'options': [
        {'text': 'é€‰é¡¹A', 'is_correct': False},
        {'text': 'é€‰é¡¹B', 'is_correct': True},
        # ...
    ]
})
```

## æ•°æ®ç¤ºä¾‹

### é¢˜ç›®ç»“æ„
```json
{
    "id": 1,
    "title": "ã€Šæ±Ÿå—ã€‹ æ±‰ä¹åºœ",
    "content": "æ±Ÿå—å¯é‡‡è²ï¼Œè²å¶ä½•ï¼ˆ ï¼‰ã€‚ é±¼æˆè²å¶é—´ã€‚",
    "correct_answer": "B",
    "explanation": "è¿™é“é¢˜é€‰æ‹© B. ç”°ç”°ã€‚...",
    "difficulty_level": 1,
    "tags": ["å¤è¯—è¯", "æ±‰ä»£", "ä½šå"],
    "options": [
        {"text": "ç¿©ç¿©", "is_correct": false},
        {"text": "ç”°ç”°", "is_correct": true},
        {"text": "å°–å°–", "is_correct": false},
        {"text": "åœ†åœ†", "is_correct": false}
    ]
}
```

## æ³¨æ„äº‹é¡¹

1. **ç¼–ç **: æ‰€æœ‰æ–‡ä»¶ä½¿ç”¨UTF-8ç¼–ç 
2. **ä¾èµ–**: éœ€è¦Python 3.6+å’Œsqlite3æ¨¡å—
3. **å¤‡ä»½**: å»ºè®®å®šæœŸå¤‡ä»½questions.dbæ–‡ä»¶
4. **æ€§èƒ½**: å¯¹äºå¤§é‡æ•°æ®ï¼Œå»ºè®®æ·»åŠ æ›´å¤šç´¢å¼•

## æœªæ¥è®¡åˆ’

- [ ] æ·»åŠ Webç•Œé¢
- [ ] æ”¯æŒå›¾ç‰‡é¢˜ç›®
- [ ] æ·»åŠ ç”¨æˆ·ç­”é¢˜è®°å½•
- [ ] æ”¯æŒé¢˜ç›®å¯¼å…¥å¯¼å‡º
- [ ] æ·»åŠ é¢˜ç›®éš¾åº¦è‡ªåŠ¨è¯„ä¼°
- [ ] æ”¯æŒå¤šè¯­è¨€

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼ 